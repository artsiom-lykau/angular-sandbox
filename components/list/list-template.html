<filter-template></filter-template>
<div class="list-container">
    <h1 class="state-heading">{{tasksToShow.header}}</h1>
    <ul ng-repeat="task in tasksToShow.data | orderBy: getOrderProp() : descOrder track by $index">
        <li class="task"
            ng-class="{'todo-clr': task.taskState == 'todo',
                       'in-progress-clr': task.taskState == 'inProgress',
                       'testing-clr': task.taskState == 'testing',
                       'done-clr': task.taskState == 'done'}">

            <h3 ng-hide="task.showEditMenu">{{task.name}}</h3>
            <input type="text" ng-model="task.name" ng-show="task.showEditMenu">

            <h4 ng-hide="task.showEditMenu">status: {{task.taskState}}</h4>
            <label for="moveTo" ng-show="task.showEditMenu">move to state:</label>
            <select id="moveTo"
                    ng-model="task.taskState"
                    ng-options="state.state as state.title for state in states"
                    ng-show="task.showEditMenu">
            </select>

            <p ng-hide="task.showEditMenu">description: {{task.description}}</p>
            <input type="text" ng-model="task.description" ng-show="task.showEditMenu">

            <p ng-hide="task.showEditMenu">hours: {{task.hours}}</p>
            <input type="number" ng-model="task.hours" ng-show="task.showEditMenu">

            <button class="edit-btn" ng-click="editTask(task)">
                {{task.showEditMenu ? 'close edit' : 'edit task'}}
            </button>

            <button class="delete-btn" ng-click="deleteTask(task)">X</button>
        </li>
    </ul>
</div>